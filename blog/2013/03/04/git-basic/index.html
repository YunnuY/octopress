
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Exploring Git - YunnuY</title>
  <meta name="author" content="YunnuY Software">

  
  <meta name="description" content="">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://YunnuY.github.com/blog/2013/03/04/git-basic">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/application.css" media="screen, projection" rel="stylesheet" type="text/css">
  <style type="text/css">
    body {
      padding-bottom: 40px;
    }
    h1 {
      margin-bottom: 15px;
    }
    img {
      max-width: 100%;
    }
    .sharing, .meta, .pager {
      margin: 20px 0px 20px 0px;
    }
    .page-footer p {
      text-align: center;
    }
  </style>
  <script src="/javascripts/libs/jquery.js"></script>
  <script src="/javascripts/libs/modernizr-2.0.js"></script>
  <script src="/javascripts/libs/bootstrap.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/octopress/atom.xml" rel="alternate" title="YunnuY" type="application/atom+xml">
  
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-38965345-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <div class="navbar">
  <div class="container">
    <div class="nav-collapse">
      <div id="navigation_header social_header" style="padding-left:750px; padding-top:5px">
        <img class="icon sina" src="/images/tsina16e.gif" title="关注原力新浪微博"></img>
        <img class="icon qq" src="/images/tqq16e.gif" title="关注原力腾讯微博"></img>
        <a class="last_social" href="mailto:yunnuy.com@gmail.com" title="邮件联系原力">yunnuy.com@gmail.com</a>
        <p class="last_social" style="display:inline" title="电话联系彭先生">杨先生【13651706129】; 彭先生【18621113676】</p>
      </div>
      <div class="navigation_header extro_op">
        <a class="logo" href="/">YunnuY Software</a>
        <div class="extro_op">
          <ul>
            <li class="home"><a href="/"><span>首页</span></a></li>
            <li><a href="/product"><span>产品与服务</span></a></li>
            <li><a href="/buy"><span>价格与购买</span></a></li>
            <li><a href="/show"><span>作品展示</span></a></li>
            <li><a href="/about"><span>关于原力</span></a></li>
            <li><a href="/blog"><span>开发者博客</span></a></li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</div>

  <div class="container">
      
<article class="hentry span9" role="article">

  
  <header class="page-header">
    
      <h1 class="entry-title">Exploring Git</h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-03-04T23:21:00+08:00" pubdate data-updated="true">Mar 4<span>th</span>, 2013</time>
        
      </p>
    
  </header>


<div class="entry-content"><h4>Even though i have touched <strong><code>Git</code></strong> many weeeks ago, but i never totally figure it very clearly. Even for now&#8230;</h4>

<br/>


<h4>Before demonstrate and analyze every single Git statement usage. I would like to explain some terminologies first:</h4>

<p> <!-- more --></p>

<br/>


<ul>
<li><strong>Tracked files</strong> are files that were in the last snapshot; they can be unmodified, modified, or staged.</li>
<li><strong>Untracked files</strong> are everything else - any files in your working directory that were not in your last
snapshot and are not in your staging area. Every file in your working directory can be in one of two states: <strong><code>tracked</code></strong> or <strong><code>untracked</code></strong>.</li>
<li><strong>Committed</strong> means that the data is safely stored in your local database.
<strong><code>Modified</code></strong> means that you have changed the file but have not committed it to your database yet.</li>
<li><strong>Staged</strong> means that you have marked a modified file in its current version to go into your next commit snapshot.</li>
<li><strong>Git directory</strong> is where Git stores the metadata and object database for your project. This is
  the most important part of Git, and it is what is copied when you clone a repository from another computer.</li>
<li><strong>Working directory</strong> is a single checkout of one version of the project. These files are pulled out of
  the compressed database in the Git directory and placed on disk for you to use or modify.</li>
<li><strong>Staging area</strong> is a simple file, generally contained in your <strong><code>Git directory</code></strong>, that stores information
  about what will go into your next commit. It’s sometimes referred to as the <strong><code>index</code></strong>, but it’s becoming
  standard to refer to it as the staging area.</li>
</ul>


<h4>The basic Git workflow goes something like this:</h4>

<br/>


<ul>
<li><strong>Modify files in your working directory.</strong></li>
<li><strong>Stage the files, adding snapshots of them to your staging area.</strong></li>
<li><strong>Submit a commit, which takes the files as they are in the staging area and stores that snapshot permanently to your Git directory.</strong></li>
</ul>


<h4>Let&#8217;s demonstrate the workflow using a simple example:</h4>

<br/>


<h4>Checking the Status</h4>

<pre><code>$ git status
# On branch master
nothing to commit (working directory clean) 
When we do actions in Git, nearly all of them only add data to the Git database. So we add a new file named README.
$ git status
# On branch master
# Untracked files:
# (use "git add &lt;file&gt;..." to include in what will be committed)
#
# README
nothing added to commit but untracked files present (use "git add" to track)
It says README file is untracked, because it’s under the Untracked files heading in your status output. And Git tell
us how to track the untracked files. Let's do it.
</code></pre>

<h4>Tracking New Files</h4>

<pre><code>$ git add README
$ git status
# On branch master
# Changes to be committed:
# (use "git reset HEAD &lt;file&gt;..." to unstage)
#
# new file: README
#
The **git add** command takes a path name for either a file or a directory; if it’s a directory, the command adds all
the files in that directory recursively.
</code></pre>

<h4>Staging Modified Files</h4>

<pre><code>If you change a previously tracked file and run the 'git status' again, you get something like “Changed but not updated”
— which means that a file that is tracked has been modified in the working directory but not yet staged. To stage it,
you run the git add command (it’s a multipurpose command — you use it to begin tracking new files, to stage files,
and to do other things like marking merge-conflicted files as resolved). Let’s run **git add** now to stage the changed
file, and then run git status again, you will get: "Changes to be committed". So If you modify a file after you run 
git add, you have to run git add again to stage the latest version of the file.
</code></pre>

<h4>Viewing Staged and Unstaged Changes</h4>

<pre><code>If the git status command is too vague for you — you want to know exactly what you changed,
not just which files were changed — you can use the git diff command.
That command compares what is in your working directory with what is in your staging area. The
result tells you the changes you’ve made that you haven’t yet staged.
</code></pre>

<h4>Committing Changes</h4>

<pre><code>Now that your staging area is set up the way you want it, you can commit your changes. Remember
that anything that is still unstaged — any files you have created or modified that you haven’t run git
add on since you edited them — won’t go into this commit. They will stay as modified files on your disk.
$ git commit -m "Story 182: Fix benchmarks for speed"
</code></pre>

<h4>Skipping the Staging Area</h4>

<pre><code>If you want to skip the staging area, Git provides a simple shortcut. Providing the -a option to the git commit
command makes Git automatically stage every file that is already tracked before doing the commit, letting you skip
the git add part:$ git commit -a -m 'added new benchmarks'
</code></pre>

<h4>Removing Files</h4>

<pre><code>To remove a file from Git, you have to remove it from your tracked files (more accurately, remove it
from your staging area) and then commit. The **git rm** command does that and also removes the file
from your working directory so you don’t see it as an untracked file next time around:
$ git rm readme.txt
Another useful thing you may want to do is to keep the file in your working tree but remove it from
your staging area. In other words, you may want to keep the file on your hard drive but not have Git
track it anymore. This is particularly useful if you forgot to add something to your .gitignore file
and accidentally added it, like a large log file or a bunch of .a compiled files. To do this, use the
--cached option:
$ git rm --cached readme.txt
</code></pre>

<h4>Moving Files</h4>

<pre><code>Thus it’s a bit confusing that Git has a mv command. If you want to rename a file in Git, you can run
something like
$ git mv file_from file_to
and it works fine. In fact, if you run something like this and look at the status, you’ll see that Git
considers it a renamed file:
$ git mv README.txt README
$ git status
# On branch master
# Your branch is ahead of 'origin/master' by 1 commit.
#
# Changes to be committed:
# (use "git reset HEAD &lt;file&gt;..." to unstage)
#
# renamed: README.txt -&gt; README
#
However, this is equivalent to running something like this:
$ mv README.txt README
$ git rm README.txt
$ git add README
Git figures out that it’s a rename implicitly, so it doesn’t matter if you rename a file that way or
with the mv command. The only real difference is that mv is one command instead of three — it’s a
convenience function.
</code></pre>

<h4>Viewing the Commit History</h4>

<pre><code>After you have created several commits, or if you have cloned a repository with an existing commit
history, you’ll probably want to look back to see what has happened. The most basic and powerful
tool to do this is the git log command.
One of the more helpful options is -p, which shows the diff introduced in each commit. You can also
use -n, which limits the output to only the last two entries:
$ git log -p -2
</code></pre>

<h4>Changing Last Commit</h4>

<pre><code>One of the common undos takes place when you commit too early and possibly forget to add some
files, or you mess up your commit message. If you want to try that commit again, you can run commit
with the --amend option:
$ git commit --amend
As an example, if you commit and then realize you forgot to stage the changes in a file you wanted to
add to this commit, you can do something like this:
$ git commit -m 'initial commit'
$ git add forgotten_file
$ git commit --amend
All three of these commands end up with a single commit — the second commit replaces the results of the first.
</code></pre>

<h4>Unstaging a Staged File</h4>

<pre><code>$ git add .
$ git status
# On branch master
# Changes to be committed:
# (use "git reset HEAD &lt;file&gt;..." to unstage)
#
# modified: README.txt
# modified: benchmarks.rb
#
Right below the “Changes to be committed” text, it says use git reset HEAD &lt;file&gt;... to unstage.
So, let’s use that advice to unstage the benchmarks.rb file:
$ git reset HEAD benchmarks.rb
benchmarks.rb: locally modified
$ git status
# On branch master
# Changes to be committed:
# (use "git reset HEAD &lt;file&gt;..." to unstage)
#
# modified: README.txt
#
# Changed but not updated:
# (use "git add &lt;file&gt;..." to update what will be committed)
# (use "git checkout -- &lt;file&gt;..." to discard changes in working directory)
#
# modified: benchmarks.rb
#
The command is a bit strange, but it works. The benchmarks.rb file is modified but once again unstaged.
</code></pre>

<h4>Unmodifying a Modified File</h4>

<pre><code>What if you realize that you don’t want to keep your changes to the benchmarks.rb file? How can you
easily unmodify it — revert it back to what it looked like when you last committed (or initially cloned,
or however you got it into your working directory)? Luckily, git status tells you how to do that,
too. In the last example output, the unstaged area looks like this:
# Changed but not updated:
# (use "git add &lt;file&gt;..." to update what will be committed)
# (use "git checkout -- &lt;file&gt;..." to discard changes in working directory)
#
# modified: benchmarks.rb
#
$ git checkout -- benchmarks.rb
$ git status
# On branch master
# Changes to be committed:
# (use "git reset HEAD &lt;file&gt;..." to unstage)
#
# modified: README.txt
#
</code></pre>

<h4>Showing Remotes</h4>

<pre><code>$ git remote -v
</code></pre>

<h4>Adding Remote Repositories</h4>

<pre><code>$ git remote
origin
$ git remote add pb git://github.com/paulboone/ticgit.git
$ git remote -v
origin git://github.com/schacon/ticgit.git
pb git://github.com/paulboone/ticgit.git
</code></pre>

<h4>Fetching and Pulling from Your Remotes</h4>

<pre><code>$ git fetch [remote-name]
$ git pull
Running git pull generally fetches data from the server you originally cloned from and automatically tries to
merge it into the code you’re currently working on.
</code></pre>

<h4>Pushing to Your Remotes</h4>

<pre><code>When you have your project at a point that you want to share, you have to push it upstream. The
command for this is simple: git push [remote-name] [branch-name]. If you want to push your
master branch to your origin server (again, cloning generally sets up both of those names for you
automatically), then you can run this to push your work back up to the server:
$ git push origin master
This command works only if you cloned from a server to which you have write access and if nobody
has pushed in the meantime. If you and someone else clone at the same time and they push upstream
and then you push upstream, your push will rightly be rejected. You’ll have to pull down their work
first and incorporate it into yours before you’ll be allowed to push.
</code></pre>

<h4>Inspecting a Remote</h4>

<pre><code>If you want to see more information about a particular remote, you can use the git remote show
[remote-name] command. If you run this command with a particular shortname, such as origin, you
get something like this:
$ git remote show origin
* remote origin
URL: git://github.com/schacon/ticgit.git
Remote branch merged with 'git pull' while on branch master
master
Tracked remote branches
master
ticgit
</code></pre>

<h4>Removing and Renaming Remotes</h4>

<pre><code>If you want to rename a reference, in newer versions of Git you can run git remote rename to
change a remote’s shortname. For instance, if you want to rename pb to paul, you can do so with git
remote rename:
$ git remote rename pb paul
$ git remote
origin
paul
It’s worth mentioning that this changes your remote branch names, too. What used to be referenced at
pb/master is now at paul/master.
If you want to remove a reference for some reason — you’ve moved the server or are no longer using
a particular mirror, or perhaps a contributor isn’t contributing anymore — you can use git remote
rm:
$ git remote rm paul
$ git remote
origin
</code></pre>

<br/>


<p><a href="http://www.yunnuy.com/blog/2013/03/04/git-basic/">Back to Top</a></p>
</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">YunnuY Software</span></span>

      








  


<time datetime="2013-03-04T23:21:00+08:00" pubdate data-updated="true">Mar 4<span>th</span>, 2013</time>
      


    </p>
    
      <div class="sharing">
  
  
  
</div>

    
    
    <ul class="pager">
      
      <li class="previous"><a class="basic-alignment left"
        href="/blog/2012/12/02/pipeline-in-rails3-dot-1-plus/" title="Previous Post:
        pipeline in rails3.1+">&laquo; pipeline in rails3.1+</a></li>
      
      <li><a href="/blog/archives">Blog Archives</a></li>
      
      <li class="next"><a class="basic-alignment right" href="/blog/2013/03/05/trouble-shooting-rake-preview/"
        title="Next Post: trouble shooting rake preview">trouble shooting rake preview
        &raquo;</a></li>
      
    </ul>
  </footer>
</article>

<aside class="sidebar-nav span3">
  
    <section class="well">
  <ul id="recent_posts" class="nav nav-list">
    <li class="nav-header">Recent Posts</li>
    
      <li class="post">
        <a href="/blog/2013/03/08/bootstrap-basic/">Bootstrap Basic</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/03/07/how-to-use-placehold-dot-it/">How to use PLACEHOLD.IT</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/03/05/trouble-shooting-rake-preview/">trouble shooting rake preview</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/03/04/git-basic/">Exploring Git</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/12/02/pipeline-in-rails3-dot-1-plus/">pipeline in rails3.1+</a>
      </li>
    
  </ul>
</section>

  
</aside>


  </div>
  <footer id="footer" class="footer">
    
<div class="copyright">
  Copyright &copy; 2013 Shanghai YunnuY Information Technologies Co., Ltd. All Rights Reserved.<br/>
  上海原力信息技术有限公司版权所有
</div>


  </footer>
  











</body>
</html>
